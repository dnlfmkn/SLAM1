MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ; NOTE: Please Clean and Build after opening the project for
                      00002 ;       the first time.
                      00003  
                      00004 ;**************************************************************************
                      00005 ;                           CONTROL
                      00006 ;**************************************************************************
                      00007 ; Aim:
                      00008 ;   - Add direction control and sensing logic for autonomous vehicle.
                      00009 ;**************************************************************************
                      00010     
                      00011 #include <p16f877.inc> 
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jan 21 2019
                      00005 ;  MPASM PIC16F877 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2019 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00541         LIST
                      00012 ;--------------------------------------------------------------------------
                      00013 ; Set Configuration Bits (Disable Watchdog Timer)
                      00014 ;--------------------------------------------------------------------------
                      00015 ; CONFIG
                      00016 ; __config 0xFFFB
2007   3DFB           00017   __CONFIG _FOSC_EXTRC & _WDTE_OFF & _PWRTE_OFF & _BOREN_ON & _LVP_ON & _CPD_OFF & _WRT_OFF & _CP_OFF
                      00018 ;-------------------------------------------------------------------------------
                      00019 ;                               SYSTEM-DEFINED/RESERVED NAMES
                      00020 ;-------------------------------------------------------------------------------
  00000003            00021 STATUS  EQU    0x03
  00000006            00022 PORTB   EQU    0x06
  00000086            00023 TRISB   EQU    0x86
  00000085            00024 TRISA   EQU    0x85  
  0000008C            00025 PIE1    EQU    0x8C
  0000001F            00026 ADCON0  EQU    0x1F
  0000009F            00027 ADCON1  EQU    0x9F
  0000000C            00028 PIR1    EQU    0x0C
  0000001E            00029 ADRESH  EQU    0x1E
  0000009E            00030 ADRESL  EQU    0x9E  
                      00031 
                      00032 ;-------------------------------------------------------------------------------
                      00033 ;                           USER-DEFINED PORT ALIASES
                      00034 ;-------------------------------------------------------------------------------
  00000007            00035 EN1_2   EQU    0x07
  00000006            00036 IN1     EQU    0x06     
  00000005            00037 IN2     EQU    0x05     
  00000004            00038 EN3_4   EQU    0x04
  00000003            00039 IN3     EQU    0x03
  00000002            00040 IN4     EQU    0x02
  00000006            00041 ADIE    EQU    0x06                 ; 6th bit of PIE1 register 
  00000006            00042 ADIF    EQU    0x06                 ; 6th bit of PIR1 register
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000002            00043 GO      EQU    0x02                 ; 2nd bit of ADCON0    
                      00044      
  00000000            00045 ALL_FWD_LED        EQU    0x00      ; red PORTD pins
  00000001            00046 ALL_REV_LED        EQU    0x01      ; green
  00000002            00047 RT_TRN_FWD_LED     EQU    0x02      ; yellow
  00000003            00048 RT_TRN_REV_LED     EQU    0x03      ; white
  00000004            00049 LFT_TRN_FWD_LED    EQU    0x04      ; blue
  00000005            00050 LFT_TRN_REV_LED    EQU    0x05      ; red again because LED colors are limited
                      00051     
                      00052 ;--------------------------------------------------------------------------
                      00053 ;               Allocate memory blocks for delay variables and sensor.
                      00054 ;--------------------------------------------------------------------------
                      00055  
                      00056                 CBLOCK 0x20
  00000020            00057                        counter
  00000021            00058                        Kount99_6us
  00000022            00059                        Kount100us
  00000023            00060                        Kount10ms
  00000024            00061                        Kount1s
  00000025            00062                        Kount5
  00000026            00063                        ADC_RES                     ; ADC result
  00000027            00064                        BANG_BANG_THRESH            ; distance threshold for bang-bang
  00000028            00065                        SHOULD_MOVE
                      00066                 ENDC
                      00067                 
                      00068 ;--------------------------------------------------------------------------
                      00069 ;   Set the reset vector.
                      00070 ;--------------------------------------------------------------------------
                      00071 
                      00072                 org         0x0000
0000   2???           00073                 goto        start
0001   0000           00074                 nop
0002   0000           00075                 nop
0003   0000           00076                 nop
0004   0000           00077                 nop     
                      00078                 
                      00079 ;--------------------------------------------------------------------------
                      00080 ;                         ALL-FORWARD LOGIC
                      00081 ;--------------------------------------------------------------------------
                      00082                 
0005                  00083 all_forward     
0005   1283 1303      00084                 banksel PORTB
0007   1786           00085                 bsf     PORTB, EN1_2        ; turn on all enables
0008   1606           00086                 bsf     PORTB, EN3_4
0009   1306           00087                 bcf     PORTB, IN1          ; clear IN1 & IN3 and set IN2 & IN 4 to set  
000A   1686           00088                 bsf     PORTB, IN2          ; left and right axes forward respectively
000B   1186           00089                 bcf     PORTB, IN3
000C   1506           00090                 bsf     PORTB, IN4
000D   2???           00091                 call    delay1s
000E   0008           00092                 return
                      00093         
                      00094 ;--------------------------------------------------------------------------
                      00095 ;                         ALL-REVERSE LOGIC
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00096 ;--------------------------------------------------------------------------
                      00097                 
000F                  00098 all_reverse     
000F   1283 1303      00099                 banksel PORTB 
0011   1786           00100                 bsf     PORTB, EN1_2        ; turn on all enables
0012   1606           00101                 bsf     PORTB, EN3_4
0013   1706           00102                 bsf     PORTB, IN1          ; set IN1 & IN3 and clear IN2 & IN 4 to set  
0014   1286           00103                 bcf     PORTB, IN2          ; left and right axes in reverse respectively
0015   1586           00104                 bsf     PORTB, IN3
0016   1106           00105                 bcf     PORTB, IN4
0017   2???           00106                 call    delay1s
0018   0008           00107                 return
                      00108 
                      00109 ;--------------------------------------------------------------------------
                      00110 ;                         RIGHT-TURN LOGIC
                      00111 ;--------------------------------------------------------------------------
                      00112 ; Right-turn (forward) logic                      
                      00113 ;--------------------------------------------------------------------------
                      00114                 
0019                  00115 rt_turn_fwd     
0019   1283 1303      00116                 banksel PORTB
001B   1606           00117                 bsf     PORTB, EN3_4
001C   1786           00118                 bsf     PORTB, EN1_2
001D   1186           00119                 bcf     PORTB, IN3
001E   1106           00120                 bcf     PORTB, IN4
001F   1306           00121                 bcf     PORTB, IN1
0020   1686           00122                 bsf     PORTB, IN2
0021   2???           00123                 call    delay1s
0022   0008           00124                 return
                      00125                                           
                      00126 ;--------------------------------------------------------------------------
                      00127 ; Right-turn (reverse) logic                      
                      00128 ;--------------------------------------------------------------------------
                      00129                 
0023                  00130 rt_turn_rev     
0023   1283 1303      00131                 banksel PORTB
0025   1606           00132                 bsf     PORTB, EN3_4
0026   1786           00133                 bsf     PORTB, EN1_2
0027   1186           00134                 bcf     PORTB, IN3
0028   1106           00135                 bcf     PORTB, IN4
0029   1706           00136                 bsf     PORTB, IN1
002A   1286           00137                 bcf     PORTB, IN2
002B   2???           00138                 call    delay1s
002C   0008           00139                 return
                      00140                 
                      00141 ;--------------------------------------------------------------------------
                      00142 ;                         LEFT-TURN LOGIC
                      00143 ;--------------------------------------------------------------------------
                      00144 ; Left-turn (forward) logic                       
                      00145 ;--------------------------------------------------------------------------
                      00146                 
002D                  00147 left_turn_fwd   
002D   1283 1303      00148                 banksel PORTB
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

002F   1786           00149                 bsf     PORTB, EN1_2
0030   1606           00150                 bsf     PORTB, EN3_4
0031   1306           00151                 bcf     PORTB, IN1
0032   1286           00152                 bcf     PORTB, IN2
0033   1186           00153                 bcf     PORTB, IN3
0034   1506           00154                 bsf     PORTB, IN4
0035   2???           00155                 call    delay1s
0036   0008           00156                 return
                      00157 
                      00158 ;--------------------------------------------------------------------------
                      00159 ; Left-turn (reverse) logic                       
                      00160 ;--------------------------------------------------------------------------
                      00161         
0037                  00162 left_turn_rev   
0037   1283 1303      00163                 banksel PORTB
0039   1786           00164                 bsf     PORTB, EN1_2
003A   1606           00165                 bsf     PORTB, EN3_4
003B   1306           00166                 bcf     PORTB, IN1
003C   1286           00167                 bcf     PORTB, IN2
003D   1586           00168                 bsf     PORTB, IN3
003E   1106           00169                 bcf     PORTB, IN4
003F   2???           00170                 call    delay1s
0040   0008           00171                 return
                      00172                 
                      00173 ;---------------------------------------------------------------------------
                      00174 ;                           STOP LOGIC
                      00175 ;---------------------------------------------------------------------------
                      00176 
0041                  00177 stop_wheels     
0041   1283 1303      00178                 banksel PORTB
0043   1786           00179                 bsf     PORTB, EN1_2
0044   1606           00180                 bsf     PORTB, EN3_4
0045   1306           00181                 bcf     PORTB, IN1
0046   1286           00182                 bcf     PORTB, IN2
0047   1186           00183                 bcf     PORTB, IN3
0048   1106           00184                 bcf     PORTB, IN4
0049   2???           00185                 call    delay1s
004A   0008           00186                 return
                      00187                 
                      00188 ;--------------------------------------------------------------------------
                      00189 ;                       ONE SECOND DELAY LOGIC
                      00190 ;--------------------------------------------------------------------------
004B                  00191 delay99_6us                         ; runs for 498 cycles <-> 99.6us
004B   30A5           00192                 movlw   0xA5         ; move 165'd to W register
004C   00A1           00193                 movwf   Kount99_6us  ; move 165'd to GPR
004D                  00194 impl_99_6us
Message[305]: Using default destination of 1 (file).
004D   0BA1           00195                 decfsz  Kount99_6us
004E   2???           00196                 goto    impl_100us
004F   0008           00197                 return
                      00198         
0050                  00199 delay100us                           ; runs for 500 cycles
0050   30A5           00200                 movlw   0xA5         ; move 165'd to W register
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0051   00A2           00201                 movwf   Kount100us   ; move 165'd to register
0052                  00202 impl_100us
Message[305]: Using default destination of 1 (file).
0052   0BA2           00203                 decfsz  Kount100us
0053   2???           00204                 goto    impl_100us
0054   0000           00205                 nop
0055   0000           00206                 nop
0056   0008           00207                 return
                      00208 
0057                  00209 delay10ms                            ; runs for 50,000 cycles
0057   3063           00210                 movlw   0x63         ; move 99'd to W register
0058   00A3           00211                 movwf   Kount10ms
0059                  00212 impl_10ms
0059   2???           00213                 call    delay100us
Message[305]: Using default destination of 1 (file).
005A   0BA3           00214                 decfsz  Kount10ms
005B   2???           00215                 goto    impl_10ms
005C   0000           00216                 nop
005D   0000           00217                 nop
005E   0008           00218                 return
                      00219 
005F                  00220 delay1s
005F   3063           00221                 movlw   0x63
0060   00A4           00222                 movwf   Kount1s
0061                  00223 impl_1s
0061   2???           00224                 call    delay10ms
0062   2???           00225                 call    delay99_6us
0063   0064           00226                 clrwdt
Message[305]: Using default destination of 1 (file).
0064   0BA4           00227                 decfsz  Kount1s
0065   2???           00228                 goto    impl_1s
0066   0000           00229                 nop
0067   0000           00230                 nop
0068   0008           00231                 return
                      00232                 
                      00233 ;***************************************************************************
                      00234 ;                         SENSOR LOGIC
                      00235 ;***************************************************************************
                      00236 ; Reference: [http://www.mwftr.com/ucF08/LEC15%20PIC%20AD.pdf]
                      00237 ;               
                      00238 ; The first step is to configure the A/D logic. [See the `init` label]
                      00239 ;
                      00240 ; Afterwards, the `adc` routine (below) is called which converts values from the
                      00241 ; sensor and stores the result in the ADRESH register (last 8 bits) for further
                      00242 ; use.
                      00243 ;
                      00244 ;-------------------------------------------------------------------------------
                      00245 ; NOTE: Since we are restricted to 8 bits, our resolution is from 0-255 max
                      00246 ;
                      00247 ; So, the conversion from adc value to voltage is like so:
                      00248 ;   [analog_voltage] = 5/255 * [adc_val] --> where 5V is maximum range of ADC
                      00249 ;-------------------------------------------------------------------------------
                      00250 ;
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00251 ; For now, we're implementing Bang-Bang, so once, we hit a distance threshold,
                      00252 ; we stop the vehicle and find free directions to turn to. 
                      00253 ; We'll have this distance threshold be [24 cm] based on experiments. 
                      00254 ;
                      00255 ; In the future, the voltage obtained from the ADC is fed into an equation
                      00256 ; chosen based on experiments run with the IR sensor. The resulting value is the 
                      00257 ; distance from the obstacle. This distance will then be used to calculate the  
                      00258 ; speed at which the vehicle should move to avoid hitting the obstacle.
                      00259 ; 
                      00260 ; For now the equation will be 13*(analog_voltage)^-1
                      00261 ;
                      00262 ; This is *PID control.*
                      00263 ;-------------------------------------------------------------------------------
                      00264                 
0069                  00265 test_distance_thresh        
0069   3026           00266                         movlw  ADC_RES
Message[305]: Using default destination of 1 (file).
006A   02A7           00267                         subwf  BANG_BANG_THRESH
006B   1803           00268                         skpnc                   ; if carry bit is clear, then ADC result > threshold
006C   0008           00269                         return
006D   01A8           00270                         clrf   SHOULD_MOVE      ; clear the signal to keep moving
006E   0008           00271                         return
                      00272                 
                      00273 ;*******************************************************************************
                      00274 ;                           DETERMINING THE NEXT DIRECTION
                      00275 ;*******************************************************************************
                      00276 ; This will be implemented for the sensor facing the forward direction.
                      00277 ;-------------------------------------------------------------------------------
                      00278 
006F                  00279 determine_next_direction    
Message[305]: Using default destination of 1 (file).
006F   05A8           00280                             andwf       SHOULD_MOVE        ; test if should_move is zero
0070   1D03           00281                             skpz
0071   2???           00282                             call        all_forward        ; if not zero keep moving forward 
0072   2???           00283                             call        stop_wheels
0073   0008           00284                             return                         ; else stop current movement routine 
                      00285                                                            ; and return 
                      00286                                                            
                      00287 ;-------------------------------------------------------------------------------
                      00288 ;                           ADC CONVERSION
                      00289 ;-------------------------------------------------------------------------------
                      00290                 
0074                  00291 adc             
0074   2???           00292                 call    delay10ms
0075   1283 1303      00293                 banksel ADCON0
0077   151F           00294                 bsf     ADCON0, GO      ; triggers the AD conversion
                      00295  
0078                  00296 adcloop         
0078   191F           00297                 btfsc   ADCON0, GO      ; wait for conversion to be done
0079   2???           00298                 goto    adcloop
007A   130C           00299                 bcf     PIR1, ADIF      ; clear conversion finished bit
007B   081E           00300                 movf    ADRESH, 0       ; writes result from ADRESH to W register
007C   0008           00301                 return  
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00302                 
                      00303 ;--------------------------------------------------------------------------
                      00304 ;                               MAIN
                      00305 ;--------------------------------------------------------------------------
007D                  00306 start               
007D   1303           00307                     bcf         STATUS, 0x06  ; ensure we can either be in bank 0/1
007E   1683           00308                     bsf         STATUS, 0x05  ; switch to bank 1 to access TRISB
007F   3001           00309                     movlw       0x01
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0080   0086           00310                     movwf       TRISB         ; make pins 2-7 of PORTB outputs
                      00311                     
0081   3000           00312                     movlw       0x00
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0082   0088           00313                     movwf       TRISD         ; make pins 0-6 of PORTD outputs       
0083   1283 1303      00314                     banksel     PORTB         ; switch to the bank containing PORTB
0085   0186           00315                     clrf        PORTB         ; deactivate all pins of PORTB
0086   1283 1303      00316                     banksel     PORTD
0088   0188           00317                     clrf        PORTD
                      00318                     
0089                  00319 init                
0089   30FF           00320                     movlw       0xFF          ; initializing A/D module
008A   1683 1303      00321                     banksel     TRISA         ; select bank that has port A     
008C   0085           00322                     movwf       PORTA         ; port A pins are outputs 
                      00323                     
008D   1683 1303      00324                     banksel     PIE1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
008F   130C           00325                     bcf         PIE1, ADIE    ; clear PIE1[ADIE] to disable 
                      00326                                               ; converter interrupt
0090   1283 1303      00327                     banksel     ADCON0        ; ADC operation configuration
0092   30C9           00328                     movlw       0xC9
0093   009F           00329                     movwf       ADCON0
                      00330                     
0094   1683 1303      00331                     banksel     ADCON1        ; ADC result configuration 
0096   3080           00332                     movlw       0x80          ; this byte sets the result as
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0097   009F           00333                     movwf       ADCON1        ; right-justified in ADRESH-ADRESL
                      00334                     
0098   1283 1303      00335                     banksel     BANG_BANG_THRESH
009A   301E           00336                     movlw       0x1E          ; magic
009B   00A7           00337                     movwf       BANG_BANG_THRESH
009C   3005           00338                     movlw       0x05
009D   00A5           00339                     movwf       Kount5
                      00340 
009E                  00341 loop                
009E   1283 1303      00342                     banksel     PIR1          ; PIR1 register contains result of A/D conversion
00A0   130C           00343                     bcf         PIR1, ADIF    ; clear ADIF bit to start the next conversion
00A1   1283 1303      00344                     banksel     ADC_RES
00A3   01A6           00345                     clrf        ADC_RES       ; clear conversion result for next run of ADC
00A4   2???           00346                     call        adc             
00A5   1283 1303      00347                     banksel     ADC_RES
00A7   00A6           00348                     movwf       ADC_RES       ; after `adc` routine runs, ADC result will be
                      00349                                               ; written to W register which we can access
                      00350                                               ; and use to determine the next course of action          
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                             
00A8   2???           00351                     call        test_distance_thresh
00A9                  00352 keep_moving    
00A9   2???           00353                     call        determine_next_direction
00AA   2???           00354                     goto        loop
                      00355                 
00AB                  00356 all_fwd_test        
00AB   2???           00357                     call        all_forward
00AC   1408           00358                     bsf         PORTD, ALL_FWD_LED 
Message[305]: Using default destination of 1 (file).
00AD   0BA5           00359                     decfsz      Kount5
00AE   2???           00360                     goto        all_fwd_test
00AF   3005           00361                     movlw       0x05
00B0   00A5           00362                     movwf       Kount5
00B1   1008           00363                     bcf         PORTD, ALL_FWD_LED
00B2                  00364 all_rev_test        
00B2   2???           00365                     call        all_reverse
00B3   1488           00366                     bsf         PORTD, ALL_REV_LED
Message[305]: Using default destination of 1 (file).
00B4   0BA5           00367                     decfsz      Kount5
00B5   2???           00368                     goto        all_rev_test
00B6   3005           00369                     movlw       0x05
00B7   00A5           00370                     movwf       Kount5
00B8   1088           00371                     bcf         PORTD, ALL_REV_LED   
00B9                  00372 rt_turn_fwd_test    
00B9   2???           00373                     call        rt_turn_fwd
00BA   1508           00374                     bsf         PORTD, RT_TRN_FWD_LED
Message[305]: Using default destination of 1 (file).
00BB   0BA5           00375                     decfsz      Kount5
00BC   2???           00376                     goto        rt_turn_fwd_test
00BD   3005           00377                     movlw       0x05
00BE   00A5           00378                     movwf       Kount5
00BF   1108           00379                     bcf         PORTD, RT_TRN_FWD_LED
00C0                  00380 rt_turn_rev_test    
00C0   2???           00381                     call        rt_turn_rev
00C1   1588           00382                     bsf         PORTD, RT_TRN_REV_LED
Message[305]: Using default destination of 1 (file).
00C2   0BA5           00383                     decfsz      Kount5
00C3   2???           00384                     goto        rt_turn_rev_test
00C4   3005           00385                     movlw       0x05
00C5   00A5           00386                     movwf       Kount5
00C6   1188           00387                     bcf         PORTD, RT_TRN_REV_LED               
00C7                  00388 lft_turn_fwd_test   
00C7   2???           00389                     call        left_turn_fwd
00C8   1608           00390                     bsf         PORTD, LFT_TRN_FWD_LED
Message[305]: Using default destination of 1 (file).
00C9   0BA5           00391                     decfsz      Kount5
00CA   2???           00392                     goto        lft_turn_fwd_test
00CB   3005           00393                     movlw       0x05
00CC   00A5           00394                     movwf       Kount5
00CD   1208           00395                     bcf         PORTD, LFT_TRN_FWD_LED
00CE                  00396 lft_turn_rev_test   
00CE   2???           00397                     call        left_turn_rev
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00CF   1688           00398                     bsf         PORTD, LFT_TRN_REV_LED
Message[305]: Using default destination of 1 (file).
00D0   0BA5           00399                     decfsz      Kount5
00D1   2???           00400                     goto        lft_turn_rev_test  
00D2   1288           00401                     bcf         PORTD, LFT_TRN_REV_LED
00D3   30FF           00402                     movlw       0xFF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00D4   0086           00403                     movwf       TRISB
3DFB                  00404                     END
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 10


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADC_RES                           00000026
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALL_FWD_LED                       00000000
ALL_REV_LED                       00000001
BANG_BANG_THRESH                  00000027
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CKE                               00000006
CKP                               00000004
CREN                              00000004
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

CSRC                              00000007
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
D_NOT_A                           00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
EN1_2                             00000007
EN3_4                             00000004
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
IN1                               00000006
IN2                               00000005
IN3                               00000003
IN4                               00000002
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
Kount100us                        00000022
Kount10ms                         00000023
Kount1s                           00000024
Kount5                            00000025
Kount99_6us                       00000021
LFT_TRN_FWD_LED                   00000004
LFT_TRN_REV_LED                   00000005
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RT_TRN_FWD_LED                    00000002
RT_TRN_REV_LED                    00000003
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SEN                               00000000
SHOULD_MOVE                       00000028
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_WRT_OFF                          00003DFF
_WRT_ON                           00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
adc                               00000074
adcloop                           00000078
all_forward                       00000005
all_fwd_test                      000000AB
all_rev_test                      000000B2
all_reverse                       0000000F
counter                           00000020
delay100us                        00000050
delay10ms                         00000057
delay1s                           0000005F
delay99_6us                       0000004B
determine_next_direction          0000006F
impl_100us                        00000052
impl_10ms                         00000059
impl_1s                           00000061
impl_99_6us                       0000004D
init                              00000089
keep_moving                       000000A9
left_turn_fwd                     0000002D
left_turn_rev                     00000037
lft_turn_fwd_test                 000000C7
lft_turn_rev_test                 000000CE
loop                              0000009E
rt_turn_fwd                       00000019
MPASM 5.83                       CONTROL.ASM   3-22-2020  15:25:22         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

rt_turn_fwd_test                  000000B9
rt_turn_rev                       00000023
rt_turn_rev_test                  000000C0
start                             0000007D
stop_wheels                       00000041
test_distance_thresh              00000069

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    18 reported,     0 suppressed

